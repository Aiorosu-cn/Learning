[TOC]



# 蓝图和C++区别

[Unreal Engine 如何平衡蓝图与C++的运用 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/486743027)

- 如果蓝图类有很多紧凑的循环或许多扩展到数百个节点的嵌套宏，那么应该考虑将其转换为C++。Tick函数是一个最重要的性能问题。执行蓝图Tick可能比执行原生Tick慢得多，因此对于任何具有许多实例的类都应完全避免Tick。相反，你应使用计时器或代理，让蓝图类仅在需要时才工作。
- 蓝图类和C++类名字可以完全一样，不会冲突，建议C++ 类名字由`你自己定义的标志字符` + `原来的类的名字`组成，比如`XiaoMing_AI_Pawn`，或者`XM_AI_Pawn`，派生蓝图时名字正常取就行了，比如`AI_Pawn`。

# 入门介绍

UE4 的C++目的不能教你认识所有的函数，我们需要引入一个工具辅助我们编程。目前使用`番茄助手visualAssisX和`Riader`辅助。

## 番茄助手的使用

安装的时候需要在VS中卸载老板的番茄助手，在 `扩展-已安装`中卸载。

## VS需要安装的模块

- 使用C++的游戏开发模块
- 使用C++的桌面开发
- .NET桌面开发（UE使用C#代码做配置文件）



# CPP工程创建

- 直接创建C++工程

- 创建蓝图工程后，在项目左上角，“文件”中创建C++类，工程将自动转换为C++工程

> C++的工程创建和打开时间很久，因为和创建反射机制有关



# 打开VS

1. UE打开C++工程后，双击任意C++类，可以打开VS;
2. UE打开C++工程后，点击`文件--打开visual Studio`；
3. 在工程路径下，打开vs的sln文件，直接打开vs；



# 打包好的cpp工程重新生成VS解决方案

当我们把项目打包成ZIP文件时，只有C++源码和蓝图，重新生成VS解决方案，首先双击项目文件，选择编译，然后有2个方法：

1. 右键uproject文件,选择`生成VS文件`;

2. 在UE里`文件--生成VS工程`;

无论哪种方式，UE会遍历source文件夹生成文件;

> 每次写完Cpp文件，最好在工程中点一下刷新VS，保证代码能同步到工程中

